{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","handleSubmit","onSubmit","type","Persons","id","name","number","handleDelete","onClick","Notification","messageType","message","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","object","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","typeMessage","setTypeMessage","useEffect","personService","returnedObject","showPersons","p","toLowerCase","includes","person","find","window","confirm","catch","error","notifMessage","event","target","preventDefault","personObj","namePersonExist","returnedObj","map","concat","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89bf5f6e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter, handleFilterChange }) => (\n  <div>\n    filter shown with <input value={filter} onChange={handleFilterChange} />\n  </div>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange,\n  handleSubmit,\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ id, name, number, handleDelete }) => {\n  return (\n    <div>\n      {name} {number} <button onClick={() => handleDelete(id)}>delete</button>\n    </div>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ messageType, message }) => {\n  const messageStyle =\n    messageType === \"success\"\n      ? {\n          color: \"green\",\n          background: \"lightgrey\",\n          fontSize: 20,\n          borderStyle: \"solid\",\n          borderRadius: 5,\n          padding: 10,\n          marginBottom: 10,\n        }\n      : {\n          color: \"red\",\n          background: \"lightgrey\",\n          fontSize: 20,\n          borderStyle: \"solid\",\n          borderRadius: 5,\n          padding: 10,\n          marginBottom: 10,\n        };\n\n  if (message === null) {\n    return null;\n  } else {\n    return <div style={messageStyle}>{message}</div>;\n  }\n};\n\nexport default Notification;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (object) => {\n  const request = axios.post(baseUrl, object)\n  return request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, object) => {\n  const request = axios.put(`${baseUrl}/${id}`, object)\n  return request.then((response) => response.data)\n}\n\nexport default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [typeMessage, setTypeMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then((returnedObject) => setPersons(returnedObject))\n  }, [])\n\n  const showPersons = filter\n    ? persons.filter((p) => p.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    const value = event.target.value\n    setNewName(value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    const personObj = {\n      name: newName,\n      number: newNumber,\n    }\n\n    const namePersonExist = persons.find((p) => p.name === newName)\n\n    if (namePersonExist) {\n      if (\n        window.confirm(\n          `${namePersonExist.name} already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update(namePersonExist.id, personObj)\n          .then((returnedObj) => {\n            setPersons(\n              persons.map((p) => (p.name !== newName ? p : returnedObj))\n            )\n            setNewName('')\n            setNewNumber('')\n            setSuccessMessage(`updated ${returnedObj.name}`)\n            setTypeMessage('success')\n          })\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      personService\n        .create(personObj)\n        .then((returnedObject) => {\n          setPersons(persons.concat(returnedObject))\n          setNewName('')\n          setNewNumber('')\n          setSuccessMessage(`added ${returnedObject.name}`)\n          setTypeMessage('success')\n        })\n        .catch((error) => {\n          setErrorMessage(error.response.data.error)\n          setTypeMessage('error')\n        })\n    }\n  }\n\n  const handleDelete = (id) => {\n    const person = persons.find((p) => p.id === id)\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(id)\n        .then((returnedObject) => {\n          setPersons(persons.filter((p) => p.id !== id))\n          setSuccessMessage(`deleted ${returnedObject.name}`)\n          setTypeMessage('success')\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${person.name} has already been removed from server`\n          )\n          setTypeMessage('error')\n        })\n    }\n  }\n\n  const notifMessage = successMessage !== null ? successMessage : errorMessage\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notifMessage} messageType={typeMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      {showPersons.map((p) => (\n        <Persons\n          key={p.id}\n          id={p.id}\n          name={p.name}\n          number={p.number}\n          handleDelete={handleDelete}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}